<!DOCTYPE HTML>
<html>
<head>
	<link rel="stylesheet" href="css/NGCHM.css">
    <script src="javascript/MatrixManager.js"></script>
    
    <title>Map Page</title>
	<script type="text/Javascript">
	
    //Manager used to get heatmap data.
    var mgr = new MatrixManager(MatrixManager.WEB_SOURCE);
    var map = null;
    
    function dataUpdate(event, level) {
    	if (event == MatrixManager.Event_INITIALIZED) {
    		alert("CHM level has " + map.getNumRows(MatrixManager.FULL_LEVEL) + " rows");
    		alert("CHM level has " + map.getNumColumns(MatrixManager.FULL_LEVEL) + " cols");
    		alert("Summary level has " + map.getNumRows(MatrixManager.SUMMARY_LEVEL) + " rows");
    		alert("Summary level has " + map.getNumColumns(MatrixManager.SUMMARY_LEVEL) + " cols");
    	}     	
    	
    	if (event == MatrixManager.Event_NEWDATA && level == MatrixManager.THUMBNAIL_LEVEL) {
    		alert("Thumb nail 1, 1: " + map.getValue(MatrixManager.THUMBNAIL_LEVEL, 1, 1));
    		alert("Full 1, 1: " + map.getValue(MatrixManager.FULL_LEVEL, 1, 1));
    		var rows = map.getNumRows(MatrixManager.SUMMARY_LEVEL);
    		var cols = map.getNumColumns(MatrixManager.SUMMARY_LEVEL);
    		map.getValue(MatrixManager.SUMMARY_LEVEL, 3, 4);
    		for (i=1;i<=rows;i++) {
        		for (j=1;j<=cols;j++) {
        			if ((i === 2) && (j < 11)) { 
    					map.getValue(MatrixManager.SUMMARY_LEVEL, i, j); 
        			} 
    			}
    		}
    	}
    }
    
    function getAllMapData(chmName) {
  
        map = mgr.getHeatMap(chmName, dataUpdate);
    };

	
	</script>
</head>
<body>
	<p>
	Get Matrix 1   <button onclick="getAllMapData('HDGT')">Start</button> 
	</p>
	<canvas id='canvas'></canvas>
</body>
</html>
