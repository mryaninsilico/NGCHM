<!DOCTYPE HTML>
<html>
<head>
	<link rel="stylesheet" href="css/NGCHM.css">
    <script src="javascript/MatrixManager.js"></script>
    
    <title>Map Page</title>
	<script type="text/Javascript">
	
    //Manager used to get heatmap data.
    var mgr = new MatrixManager(MatrixManager.WEB_SOURCE);
    var map = null;
    
    function dataUpdate(event, level) {
    	if (event == MatrixManager.Event_INITIALIZED) {
    		alert("CHM level has " + map.getNumRows(MatrixManager.FULL_LEVEL) + " rows");
    		alert("Summary level has " + map.getNumRows(MatrixManager.SUMMARY_LEVEL) + " rows");
    	}     	
    	
    	if (event == MatrixManager.Event_NEWDATA && level == MatrixManager.THUMBNAIL_LEVEL) {
    		alert("Thumb nail 1, 1: " + map.getValue(MatrixManager.THUMBNAIL_LEVEL, 1, 1));
    	}
    }
    
    function getAllMapData(chmName) {
  
        map = mgr.getHeatMap('Test', dataUpdate);
    };

	
	</script>
</head>
<body>
	<p>
	Get Matrix 1   <button onclick="getAllMapData('Test')">Start</button> 
	</p>
	<canvas id='canvas'></canvas>
</body>
</html>
